@model SocialNetworking.ViewModel.RegistrationViewModel

@{
    ViewBag.Title = "Create New Account";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container justify-content-center">
    <div class="row mt-5">
        <div class="col-lg-5 col-md-6 col-sm-10 col-xxl-3 col-xl-4 m-auto">
            <h2 class="text-center pt-2">Create New Account</h2>
            <div class="alert alert-danger p-3 visually-hidden" role="alert"></div>
            <form action="#" class="mt-3">
                <div class="input-group mb-2">
                    <span class="input-group-text"><i class="fa fa-user"></i></span>
                    <input type="text" class="form-control" placeholder="Username" asp-for="Username" />
                    <span class="text-danger" asp-validation-for="Username"></span>
                </div>
                <div class="input-group mb-2">
                    <span class="input-group-text"><i class="fa fa-envelope"></i></span>
                    <input type="email" class="form-control" placeholder="Email" asp-for="Email" />
                    <span class="text-danger" asp-validation-for="Email"></span>
                </div>
                <div class="input-group mb-2" ">
                    <span class="input-group-text"><i class="fa fa-lock"></i></span>
                    <input id="password" type="password" class="form-control" placeholder="Password" asp-for="Password" />
                    <span class="text-danger" asp-validation-for="Password"></span>
                </div>
                <div class="input-group mb-2">
                    <span class="input-group-text"><i class="fa fa-lock"></i></span>
                    <input type="password" class="form-control" placeholder="Confirm Password" asp-for="ConfirmPassword" />
                    <span class="text-danger" asp-validation-for="ConfirmPassword"></span>
                </div>
                <div class="d-grid">
                    <button id="btnsignup" class="btn btn-success">Signup Now</button>
                    <p class="text-center text-muted mt-3">
                        When You Register by Clicking on Signup button, You Agree to our
                        <a href="#">Terms and Conditions</a> and <a href="#">Privacy Policy</a>
                    </p>
                    <p class="text-center text-muted mt-1">Already have an account? <a href="Signin">Login Here</a></p>
                </div>
            </form>
        </div>
    </div>
</div>

@section scripts
    {
        <script src="~/Scripts/local/account.js?version=7"></script>
        <script>
            $(document).ready(function () {
                let $click = false;
                let $user = $('input[type=text]');
                let $pwd = $('input[type=password]');
                let $email = $('input[type=email]');
                let $error = $('.alert-danger');
                let $errorMessage = "<span style='border-left:3px solid red; padding-left:7px; background-color:green;'> Mandatory Fields</span> <button type='button' class='btn - close' data-bs-dismiss='alert' aria-label='Close'>X</button>";

                $(".btn-success").click(function () {
                    if ($user.val() === "") {
                        $user.attr("style", "border-right:5px solid red;").attr("data-error", "on");
                        $error.attr("class", "alert alert-danger p-3");
                        $click = true;
                    }

                    if ($email.val() === "") {
                        $email.attr("style", "border-right:5px solid red;").attr("data-error", "on");
                        $error.attr("class", "alert alert-danger p-3");
                        $click = true;
                    } else {
                        $EmailVerifyFunction($email.val());
                    }

                    if ($pwd.val() === "") {
                        $pwd.attr("style", "border-right:5px solid red;").attr("data-error", "on");
                        $error.attr("class", "alert alert-danger p-3");
                        $click = true;
                    }

                    if ($click === true) {
                        $error.html($errorMessage);
                        return false;
                    } else {
                        return true;
                    }
                });
                $UserKeyPress_and_Focusout();
                $EmailKeyPress_and_Focusout();
                $PasswordKeyPress_and_Focusout();
            });
        </script>
    }
